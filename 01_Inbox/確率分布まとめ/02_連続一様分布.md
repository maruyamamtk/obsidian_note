# 連続一様分布 (Continuous Uniform Distribution)

#統計

## 概要

連続一様分布は、ある区間内のすべての値が等しい確率密度を持つ場合に用いられる連続型確率分布です。事前情報がない連続的な現象をモデル化する際の基礎となる分布です。

## 基本情報

- **種別**: 連続型
- **定義域**: $[a, b]$（閉区間）
- **パラメータ**: a（下限）, b（上限）、ただし $a < b$

## 数学的性質

### 確率密度関数 (PDF)
$$f(x) = \begin{cases}
\frac{1}{b-a} & \text{if } a \leq x \leq b \\
0 & \text{otherwise}
\end{cases}$$

### 累積分布関数 (CDF)
$$F(x) = \begin{cases}
0 & \text{if } x < a \\
\frac{x-a}{b-a} & \text{if } a \leq x \leq b \\
1 & \text{if } x > b
\end{cases}$$

### 統計的性質

- **平均（期待値）**: $E[X] = \frac{a+b}{2}$
- **分散**: $\text{Var}[X] = \frac{(b-a)^2}{12}$
- **標準偏差**: $\sqrt{\frac{(b-a)^2}{12}} = \frac{b-a}{2\sqrt{3}}$
- **中央値**: $\frac{a+b}{2}$
- **最頻値**: 区間内のすべての値（一様なため）

## 特徴と性質

### 基本的特徴
- **一定の確率密度**: 区間 $[a,b]$ 内で確率密度が常に $\frac{1}{b-a}$
- **完全な対称性**: 平均値 $\frac{a+b}{2}$ を中心に左右対称
- **最大エントロピー**: 与えられた区間で最大のエントロピーを持つ
- **無記憶性**: 持ちません（指数分布とは異なる）

### 数学的特性

- **再生性**: 一般には持ちません
- **スケール不変性**: 線形変換に対して一様分布が保たれる
- **順序統計量**: 単純な形で表現可能

## 順序統計量

区間 $[0,1]$ の一様分布から $n$ 個の標本を取った場合の順序統計量は重要な性質を持ちます：

- **第k順序統計量**: $X_{(k)} \sim \text{Beta}(k, n-k+1)$
- **最小値**: $X_{(1)} \sim \text{Beta}(1, n)$  
- **最大値**: $X_{(n)} \sim \text{Beta}(n, 1)$

## モデリングへの応用

### 適用例

#### 物理・工学分野
- **ルーレット**: 0度から360度のどこかで止まる位置
- **測定誤差**: 丸め誤差や量子化誤差
- **信号処理**: 位相の初期値
- **製造業**: 公差内での寸法のばらつき

#### 統計・シミュレーション
- **モンテカルロシミュレーション**: [0,1]区間での一様乱数生成
- **ベイズ統計**: 無情報事前分布
- **待ち時間**: バスの到着時刻が不明な場合の待ち時間

#### 金融・保険
- **生命保険**: 1年を通して死亡が一様に発生すると仮定
- **リスク評価**: 不確実性の定量化
- **オプション価格**: 基礎資産価格の初期分布

### 実世界での例

1. **バス待ち**: バスが10分間隔で来る場合の待ち時間（0〜10分）
2. **製品検査**: 許容範囲内での製品の寸法
3. **乱数生成**: コンピュータの基本的な乱数
4. **実験計画**: ランダムな開始時点の設定

## 他の分布との関係

### 離散一様分布
区間を等分し、各区間の中点を取ることで離散一様分布に近似できます。

### 正規分布
中心極限定理により、一様分布の標本平均は正規分布に収束：
$$\bar{X} \xrightarrow{d} N\left(\frac{a+b}{2}, \frac{(b-a)^2}{12n}\right)$$

### ベータ分布
標準一様分布 $U(0,1)$ はベータ分布 $\text{Beta}(1,1)$ と同じです。

### 三角分布
2つの独立な一様分布の和は三角分布になります。

## 変数変換

### 線形変換
$X \sim U(a,b)$ に対して $Y = cX + d$ とすると：
$$Y \sim U(ca+d, cb+d) \text{ (if } c > 0\text{)}$$

### 逆変換法
標準一様分布 $U \sim U(0,1)$ から任意の分布を生成：
$$X = F^{-1}(U)$$
ここで、$F^{-1}$ は目標分布の逆累積分布関数です。

## 計算例

### 例題1: 基本確率
$U(0,10)$ で値が3から7の間に入る確率は？
$$P(3 \leq X \leq 7) = \frac{7-3}{10-0} = \frac{4}{10} = 0.4$$

### 例題2: 条件付き確率
$X \sim U(0,10)$ で $X > 6$ という条件下で $X > 8$ である確率は？
$$P(X > 8 | X > 6) = \frac{P(X > 8)}{P(X > 6)} = \frac{2/10}{4/10} = \frac{1}{2}$$

### 例題3: 期待値と分散
$U(2,8)$ の期待値と分散：
- 期待値: $E[X] = \frac{2+8}{2} = 5$
- 分散: $\text{Var}[X] = \frac{(8-2)^2}{12} = \frac{36}{12} = 3$

## 乱数生成

### 基本的な生成方法
```python
import random

# [a, b]区間の一様乱数
def uniform_random(a, b):
    return a + (b - a) * random.random()

# 統計的性質の確認
def uniform_properties(a, b):
    mean = (a + b) / 2
    variance = (b - a) ** 2 / 12
    std = (variance) ** 0.5
    
    return {
        'mean': mean,
        'variance': variance,
        'std': std,
        'range': b - a
    }
```

## 中心極限定理の実例

一様分布は中心極限定理の効果を視覚的に理解するのに適した分布です：

- 元の分布：矩形（平らな形状）
- 標本平均の分布：標本サイズが増加すると正規分布に近づく
- 収束の速度：比較的早く正規分布に収束

## 応用：Box-Muller変換

2つの独立な標準一様分布から正規分布を生成：

$$Z_1 = \sqrt{-2\ln U_1}\cos(2\pi U_2)$$
$$Z_2 = \sqrt{-2\ln U_1}\sin(2\pi U_2)$$

ここで、$U_1, U_2 \sim U(0,1)$ は独立で、$Z_1, Z_2 \sim N(0,1)$ は独立な標準正規分布に従います。

## 実装例（概念的）

```python
import numpy as np
import matplotlib.pyplot as plt

def continuous_uniform_pdf(x, a, b):
    """連続一様分布の確率密度関数"""
    if a <= x <= b:
        return 1.0 / (b - a)
    else:
        return 0.0

def continuous_uniform_cdf(x, a, b):
    """連続一様分布の累積分布関数"""
    if x < a:
        return 0.0
    elif x > b:
        return 1.0
    else:
        return (x - a) / (b - a)

def demonstrate_clt_uniform(a=0, b=1, sample_sizes=[1, 5, 10, 30], n_samples=1000):
    """一様分布での中心極限定理のデモンストレーション"""
    theoretical_mean = (a + b) / 2
    theoretical_var = (b - a) ** 2 / 12
    
    for n in sample_sizes:
        # n個の標本の平均をn_samples回計算
        sample_means = []
        for _ in range(n_samples):
            sample = np.random.uniform(a, b, n)
            sample_means.append(np.mean(sample))
        
        # 標本平均の統計
        observed_mean = np.mean(sample_means)
        observed_var = np.var(sample_means)
        theoretical_var_of_mean = theoretical_var / n
        
        print(f"標本サイズ {n}:")
        print(f"  理論平均: {theoretical_mean:.3f}, 観測平均: {observed_mean:.3f}")
        print(f"  理論分散: {theoretical_var_of_mean:.3f}, 観測分散: {observed_var:.3f}")
```

## 参考

詳細な参考文献については[[04_参考文献]]を参照してください。

## 関連項目

- [[01_離散一様分布]]
- [[02_ベータ分布]]
- [[02_正規分布]]
- [[三角分布]]
- [[03_確率分布間の関係性]]
